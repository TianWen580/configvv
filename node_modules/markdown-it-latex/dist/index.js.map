{"version":3,"sources":["webpack:///index.js","webpack:///webpack/bootstrap daaa3f36e79db1fc6e71","webpack:///./src/index.js","webpack:///external \"asciimath-to-latex\"","webpack:///external \"katex\""],"names":["module","exports","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","value","_asciimathToLatex","_asciimathToLatex2","_katex","_katex2","mathBlock","code","tex","split","forEach","line","renderToString","trim","displayMode","err","LatexPlugin","md","temp1","renderer","rules","code_inline","bind","tokens","idx","options","env","slf","content","startsWith","endsWith","substr","length","temp2","fence","token","info","test","map","item","join","require"],"mappings":"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","file":"index.js","sourcesContent":["module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\n__webpack_require__(1);\n\nvar _asciimathToLatex = __webpack_require__(2);\n\nvar _asciimathToLatex2 = _interopRequireDefault(_asciimathToLatex);\n\nvar _katex = __webpack_require__(3);\n\nvar _katex2 = _interopRequireDefault(_katex);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar mathBlock = function mathBlock(code) {\n  var tex = '';\n  code.split(/(?:\\n\\s*){2,}/).forEach(function (line) {\n    // consecutive new lines means a new formula\n    try {\n      tex += _katex2.default.renderToString(line.trim(), { displayMode: true });\n    } catch (err) {\n      tex += '<pre>' + err + '</pre>';\n    }\n  });\n  return '<div>' + tex + '</div>';\n};\n\nvar LatexPlugin = function LatexPlugin(md) {\n  // inline math\n  var temp1 = md.renderer.rules.code_inline.bind(md.renderer.rules);\n  md.renderer.rules.code_inline = function (tokens, idx, options, env, slf) {\n    var code = tokens[idx].content;\n    if (code.startsWith('@') && code.endsWith('@')) {\n      code = '$' + (0, _asciimathToLatex2.default)(code.substr(1, code.length - 2)) + '$';\n    }\n    if (code.startsWith('$') && code.endsWith('$')) {\n      // inline math\n      code = code.substr(1, code.length - 2);\n      try {\n        return _katex2.default.renderToString(code);\n      } catch (err) {\n        return '<code>' + err + '</code>';\n      }\n    }\n    return temp1(tokens, idx, options, env, slf);\n  };\n\n  // fenced math block\n  var temp2 = md.renderer.rules.fence.bind(md.renderer.rules);\n  md.renderer.rules.fence = function (tokens, idx, options, env, slf) {\n    var token = tokens[idx];\n    var code = token.content.trim();\n    if (token.info === 'math' || token.info === 'katex') {\n      // math\n      return mathBlock(code);\n    }\n    if (/^ascii-?math/i.test(token.info)) {\n      code = code.split(/(?:\\n\\s*){2,}/).map(function (item) {\n        return (0, _asciimathToLatex2.default)(item);\n      }).join('\\n\\n');\n      return mathBlock(code);\n    }\n    return temp2(tokens, idx, options, env, slf);\n  };\n};\n\nexports.default = LatexPlugin;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"asciimath-to-latex\");\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"katex\");\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// index.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap daaa3f36e79db1fc6e71","import './katex.css'\n\nimport asciimath2latex from 'asciimath-to-latex'\nimport katex from 'katex'\n\nconst mathBlock = (code) => {\n  let tex = ''\n  code.split(/(?:\\n\\s*){2,}/).forEach((line) => { // consecutive new lines means a new formula\n    try {\n      tex += katex.renderToString(line.trim(), { displayMode: true })\n    } catch (err) {\n      tex += `<pre>${err}</pre>`\n    }\n  })\n  return `<div>${tex}</div>`\n}\n\nconst LatexPlugin = (md) => {\n  // inline math\n  const temp1 = md.renderer.rules.code_inline.bind(md.renderer.rules)\n  md.renderer.rules.code_inline = (tokens, idx, options, env, slf) => {\n    let code = tokens[idx].content\n    if (code.startsWith('@') && code.endsWith('@')) {\n      code = '$' + asciimath2latex(code.substr(1, code.length - 2)) + '$'\n    }\n    if (code.startsWith('$') && code.endsWith('$')) { // inline math\n      code = code.substr(1, code.length - 2)\n      try {\n        return katex.renderToString(code)\n      } catch (err) {\n        return `<code>${err}</code>`\n      }\n    }\n    return temp1(tokens, idx, options, env, slf)\n  }\n\n  // fenced math block\n  const temp2 = md.renderer.rules.fence.bind(md.renderer.rules)\n  md.renderer.rules.fence = (tokens, idx, options, env, slf) => {\n    let token = tokens[idx]\n    let code = token.content.trim()\n    if (token.info === 'math' || token.info === 'katex') { // math\n      return mathBlock(code)\n    }\n    if (/^ascii-?math/i.test(token.info)) {\n      code = code.split(/(?:\\n\\s*){2,}/).map((item) => { return asciimath2latex(item) }).join('\\n\\n')\n      return mathBlock(code)\n    }\n    return temp2(tokens, idx, options, env, slf)\n  }\n}\n\nexport default LatexPlugin\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = require(\"asciimath-to-latex\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"asciimath-to-latex\"\n// module id = 2\n// module chunks = 0","module.exports = require(\"katex\");\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"katex\"\n// module id = 3\n// module chunks = 0"],"sourceRoot":""}